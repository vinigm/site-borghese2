<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Encontre o im√≥vel dos seus sonhos. Apartamentos e casas para venda e aluguel com as melhores condi√ß√µes.">
  <title>Im√≥velPerfeito - Todos os Im√≥veis</title>
  
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üè†</text></svg>">
  
  <!-- CSS -->
  <link rel="stylesheet" href="../src/styles/main.css">
</head>
<body class="pagina-imoveis">
  <!--HEADER -->
  <header class="header">
    <div class="header__container">
      <a href="../index.html" class="header__logo">
        <img src="../assets/images/borghese-logo.png" alt="Borghese Assessoria Imobili√°ria" class="header__logo-img">
      </a>

      <nav class="header__nav">
        <ul class="nav__lista">
          <li class="nav__item">
            <a href="../index.html" class="nav__link">In√≠cio</a>
          </li>
          <li class="nav__item">
            <a href="imoveis.html" class="nav__link ativo">Im√≥veis</a>
          </li>
          <li class="nav__item">
            <a href="sobre.html" class="nav__link">Sobre</a>
          </li>
          <li class="nav__item">
            <a href="contato.html" class="nav__link">Contato</a>
          </li>
        </ul>
      </nav>

      <div class="header__cta oculto-mobile">
        <a href="contato.html" class="botao botao--primario">
          Fale Conosco
        </a>
      </div>

      <button class="header__menu-toggle" aria-label="Menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </header>

  <!-- BANNER -->
  <section class="banner-pagina">
    <div class="banner-pagina__container">
      <h1 class="banner-pagina__titulo">Nossos Im√≥veis</h1>
      <nav class="banner-pagina__breadcrumb">
        <a href="../index.html">In√≠cio</a>
        <span class="banner-pagina__breadcrumb-separador">‚Üí</span>
        <span>Im√≥veis</span>
      </nav>
    </div>
  </section>

  <!-- CONTAINER PRINCIPAL -->
  <div class="imoveis-container">
    <div class="imoveis-layout">
      <!-- SIDEBAR - FILTROS -->
      <aside class="imoveis-sidebar">
        <div class="filtros">
          <h2 class="filtros__titulo">
            <span>üîç</span>
            Filtrar Im√≥veis
          </h2>

          <form class="filtros__form" id="form-filtros">
            <!-- Tipo de Transa√ß√£o -->
            <div class="filtros__campo">
              <label class="filtros__label" for="transacao">
                <span>üí∞</span>
                Tipo de Transa√ß√£o
              </label>
              <select class="filtros__select" id="transacao" name="transacao">
                <option value="todos">Todos</option>
                <option value="venda">Venda</option>
                <option value="aluguel">Aluguel</option>
              </select>
            </div>

            <!-- Tipo de Im√≥vel -->
            <div class="filtros__campo">
              <label class="filtros__label" for="tipo">
                <span>üè†</span>
                Tipo de Im√≥vel
              </label>
              <select class="filtros__select" id="tipo" name="tipo">
                <option value="todos">Todos</option>
                <option value="apartamento">Apartamento</option>
                <option value="casa">Casa</option>
                <option value="terreno">Terreno</option>
                <option value="comercial">Comercial</option>
              </select>
            </div>

            <!-- Faixa de Pre√ßo -->
            <div class="filtros__campo">
              <label class="filtros__label">
                <span>üíµ</span>
                Faixa de Pre√ßo
              </label>
              <div class="filtros__range">
                <input 
                  type="number" 
                  class="filtros__input" 
                  id="precoMin" 
                  name="precoMin"
                  placeholder="M√≠nimo"
                  min="0"
                  step="10000"
                />
                <span class="filtros__range-separador">at√©</span>
                <input 
                  type="number" 
                  class="filtros__input" 
                  id="precoMax" 
                  name="precoMax"
                  placeholder="M√°ximo"
                  min="0"
                  step="10000"
                />
              </div>
            </div>

            <!-- Quartos -->
            <div class="filtros__campo">
              <label class="filtros__label" for="quartos">
                <span>üõèÔ∏è</span>
                Quartos (m√≠nimo)
              </label>
              <select class="filtros__select" id="quartos" name="quartos">
                <option value="">Qualquer</option>
                <option value="1">1+</option>
                <option value="2">2+</option>
                <option value="3">3+</option>
                <option value="4">4+</option>
              </select>
            </div>

            <!-- Banheiros -->
            <div class="filtros__campo">
              <label class="filtros__label" for="banheiros">
                <span>üöø</span>
                Banheiros (m√≠nimo)
              </label>
              <select class="filtros__select" id="banheiros" name="banheiros">
                <option value="">Qualquer</option>
                <option value="1">1+</option>
                <option value="2">2+</option>
                <option value="3">3+</option>
              </select>
            </div>

            <!-- Vagas -->
            <div class="filtros__campo">
              <label class="filtros__label" for="vagas">
                <span>üöó</span>
                Vagas (m√≠nimo)
              </label>
              <select class="filtros__select" id="vagas" name="vagas">
                <option value="">Qualquer</option>
                <option value="1">1+</option>
                <option value="2">2+</option>
                <option value="3">3+</option>
              </select>
            </div>

            <!-- √Årea M√≠nima -->
            <div class="filtros__campo">
              <label class="filtros__label" for="areaMin">
                <span>üìê</span>
                √Årea M√≠nima (m¬≤)
              </label>
              <input 
                type="number" 
                class="filtros__input" 
                id="areaMin" 
                name="areaMin"
                placeholder="Ex: 50"
                min="0"
              />
            </div>

            <!-- Busca por Texto -->
            <div class="filtros__campo">
              <label class="filtros__label" for="busca">
                <span>üîé</span>
                Buscar por
              </label>
              <input 
                type="text" 
                class="filtros__input" 
                id="busca" 
                name="busca"
                placeholder="Bairro, cidade..."
              />
            </div>

            <!-- Bot√µes -->
            <div class="filtros__acoes">
              <button 
                type="button" 
                class="botao botao--primario filtros__botao-aplicar"
                data-acao="aplicar-filtros"
              >
                üîç Aplicar Filtros
              </button>
              <button 
                type="button" 
                class="botao botao--outline filtros__botao-limpar"
                data-acao="limpar-filtros"
              >
                üîÑ Limpar
              </button>
            </div>
          </form>

          <!-- Filtros Ativos -->
          <div class="filtros__ativos" data-filtros-ativos style="display: none;"></div>
        </div>
      </aside>

      <!-- √ÅREA PRINCIPAL -->
      <main class="imoveis-main">
        <!-- Toolbar -->
        <div class="imoveis-toolbar">
          <div class="imoveis-toolbar__info">
            <button class="botao botao--outline botao--pequeno botao-filtros-mobile visivel-mobile">
              üîç Filtros
            </button>
            <div class="imoveis-toolbar__contador" data-contador-imoveis>
              Carregando...
            </div>
          </div>

          <div class="imoveis-toolbar__acoes">
            <div class="imoveis-toolbar__ordenacao">
              <label class="imoveis-toolbar__ordenacao-label" for="ordenacao">
                Ordenar por:
              </label>
              <select 
                class="imoveis-toolbar__ordenacao-select" 
                id="ordenacao"
                name="ordenacao"
              >
                <option value="">Padr√£o</option>
                <option value="preco-asc">Menor Pre√ßo</option>
                <option value="preco-desc">Maior Pre√ßo</option>
                <option value="area-asc">Menor √Årea</option>
                <option value="area-desc">Maior √Årea</option>
                <option value="recentes">Mais Recentes</option>
              </select>
            </div>
          </div>
        </div>

        <!-- Grid de Im√≥veis -->
        <div class="grid-imoveis" id="lista-imoveis">
          <!-- Im√≥veis ser√£o carregados via JavaScript -->
          <div class="loading-container">
            <div class="loading-spinner loading-spinner--large"></div>
            <p style="margin-top: 1rem;">Carregando im√≥veis...</p>
          </div>
        </div>
      </main>
    </div>
  </div>

  <!-- FOOTER -->
  <footer class="footer">
    <div class="footer__container">
      <div class="footer__conteudo">
        <div class="footer__secao footer__sobre">
          <h3 class="footer__logo">üè† Im√≥velPerfeito</h3>
          <p>
            A Im√≥velPerfeito √© sua parceira ideal na busca pelo im√≥vel dos sonhos.
          </p>
          <div class="footer__redes-sociais">
            <a href="#" class="footer__rede-social" aria-label="Facebook">üìò</a>
            <a href="#" class="footer__rede-social" aria-label="Instagram">üì∑</a>
            <a href="#" class="footer__rede-social" aria-label="LinkedIn">üíº</a>
            <a href="#" class="footer__rede-social" aria-label="YouTube">‚ñ∂Ô∏è</a>
          </div>
        </div>

        <div class="footer__secao">
          <h3>Links R√°pidos</h3>
          <nav class="footer__links-lista">
            <a href="../index.html">‚Üí In√≠cio</a>
            <a href="imoveis.html">‚Üí Im√≥veis</a>
            <a href="sobre.html">‚Üí Sobre N√≥s</a>
            <a href="contato.html">‚Üí Contato</a>
          </nav>
        </div>

        <div class="footer__secao">
          <h3>Contato</h3>
          <div class="footer__contato-item">
            <span>üìç</span>
            <p>Av. Paulista, 1000 - S√£o Paulo/SP</p>
          </div>
          <div class="footer__contato-item">
            <span>üìû</span>
            <p><a href="tel:+551134567890">(11) 3456-7890</a></p>
          </div>
          <div class="footer__contato-item">
            <span>üìß</span>
            <p><a href="mailto:contato@imovelperfeito.com.br">contato@imovelperfeito.com.br</a></p>
          </div>
        </div>
      </div>

      <div class="footer__bottom">
        <div class="footer__copyright">
          ¬© 2026 Im√≥velPerfeito. Todos os direitos reservados.
        </div>
        <nav class="footer__bottom-links">
          <a href="#">Pol√≠tica de Privacidade</a>
          <a href="#">Termos de Uso</a>
        </nav>
      </div>
    </div>
  </footer>

  <!-- JavaScript -->
  <script type="module">
    import sistemaFiltros from '../src/scripts/components/sistema-filtros.js';

    // Inicializa sistema de filtros
    sistemaFiltros.inicializar('#form-filtros', '#lista-imoveis');

    // Pega par√¢metros da URL
    const urlParams = new URLSearchParams(window.location.search);
    const tipo = urlParams.get('tipo');
    const transacao = urlParams.get('transacao');
    const busca = urlParams.get('busca');

    // Preenche filtros da URL
    if (tipo) document.getElementById('tipo').value = tipo;
    if (transacao) document.getElementById('transacao').value = transacao;
    if (busca) document.getElementById('busca').value = busca;

    // Se h√° par√¢metros, aplica filtros
    if (tipo || transacao || busca) {
      setTimeout(() => sistemaFiltros.aplicarFiltros(), 100);
    }

    // Ordena√ß√£o
    document.getElementById('ordenacao').addEventListener('change', (e) => {
      const form = document.getElementById('form-filtros');
      const ordenacaoInput = form.querySelector('[name="ordenacao"]');
      if (ordenacaoInput) {
        ordenacaoInput.value = e.target.value;
      } else {
        const input = document.createElement('input');
        input.type = 'hidden';
        input.name = 'ordenacao';
        input.value = e.target.value;
        form.appendChild(input);
      }
      sistemaFiltros.aplicarFiltros();
    });

    // Menu mobile filtros
    const btnFiltrosMobile = document.querySelector('.botao-filtros-mobile');
    const sidebar = document.querySelector('.imoveis-sidebar');
    
    if (btnFiltrosMobile && sidebar) {
      btnFiltrosMobile.addEventListener('click', () => {
        sidebar.classList.toggle('aberto');
      });

      // Fecha ao clicar fora em dispositivos m√≥veis
      document.addEventListener('click', (e) => {
        if (window.innerWidth <= 1024 && 
            !sidebar.contains(e.target) && 
            !btnFiltrosMobile.contains(e.target) &&
            sidebar.classList.contains('aberto')) {
          sidebar.classList.remove('aberto');
        }
      });
    }
  </script>
  <script type="module" src="../src/scripts/main.js"></script>
</body>
</html>
