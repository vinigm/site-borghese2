<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Encontre o imÃ³vel dos seus sonhos. Apartamentos e casas para venda e aluguel com as melhores condiÃ§Ãµes.">
  <title>Borghese - ImÃ³veis DisponÃ­veis</title>
  
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ </text></svg>">
  
  <!-- CSS -->
  <link rel="stylesheet" href="../src/styles/main.css">
</head>
<body class="pagina-imoveis">
  <!--HEADER -->
  <header class="header">
    <div class="header__container">
      <a href="../index.html" class="header__logo">
        <img src="../assets/images/borghese-logo.png" alt="Borghese Assessoria ImobiliÃ¡ria" class="header__logo-img">
      </a>

      <nav class="header__nav">
        <ul class="nav__lista">
          <li class="nav__item">
            <a href="../index.html" class="nav__link">InÃ­cio</a>
          </li>
          <li class="nav__item">
            <a href="imoveis.html" class="nav__link ativo">ImÃ³veis</a>
          </li>
          <li class="nav__item">
            <a href="sobre.html" class="nav__link">Sobre</a>
          </li>
          <li class="nav__item">
            <a href="contato.html" class="nav__link">Contato</a>
          </li>
        </ul>
      </nav>

      <div class="header__cta oculto-mobile">
        <a href="contato.html" class="botao botao--primario">
          Fale Conosco
        </a>
      </div>

      <button class="header__menu-toggle" aria-label="Menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </header>

  <!-- BANNER -->
  <section class="banner-pagina">
    <div class="banner-pagina__container">
      <h1 class="banner-pagina__titulo">Nossos ImÃ³veis</h1>
      <nav class="banner-pagina__breadcrumb">
        <a href="../index.html">InÃ­cio</a>
        <span class="banner-pagina__breadcrumb-separador">â†’</span>
        <span>ImÃ³veis</span>
      </nav>
    </div>
  </section>

  <!-- CONTAINER PRINCIPAL -->
  <div class="imoveis-container">
    <div class="imoveis-layout">
      <!-- SIDEBAR - FILTROS -->
      <aside class="imoveis-sidebar">
        <div class="filtros">
          <h2 class="filtros__titulo">
            <span>ğŸ”</span>
            Filtrar ImÃ³veis
          </h2>

          <form class="filtros__form" id="form-filtros">
            <!-- Tipo de TransaÃ§Ã£o -->
            <div class="filtros__campo">
              <label class="filtros__label" for="transacao">
                <span>ğŸ’°</span>
                Tipo de TransaÃ§Ã£o
              </label>
              <select class="filtros__select" id="transacao" name="transacao">
                <option value="todos">Todos</option>
                <option value="venda">Venda</option>
                <option value="aluguel">Aluguel</option>
              </select>
            </div>

            <!-- Tipo de ImÃ³vel -->
            <div class="filtros__campo">
              <label class="filtros__label" for="tipo">
                <span>ğŸ </span>
                Tipo de ImÃ³vel
              </label>
              <select class="filtros__select" id="tipo" name="tipo">
                <option value="todos">Todos</option>
                <option value="apartamento">Apartamento</option>
                <option value="casa">Casa</option>
                <option value="terreno">Terreno</option>
                <option value="comercial">Comercial</option>
              </select>
            </div>

            <!-- Faixa de PreÃ§o -->
            <div class="filtros__campo">
              <label class="filtros__label">
                <span>ğŸ’µ</span>
                Faixa de PreÃ§o
              </label>
              <div class="filtros__range">
                <input 
                  type="number" 
                  class="filtros__input" 
                  id="precoMin" 
                  name="precoMin"
                  placeholder="MÃ­nimo"
                  min="0"
                  step="10000"
                />
                <span class="filtros__range-separador">atÃ©</span>
                <input 
                  type="number" 
                  class="filtros__input" 
                  id="precoMax" 
                  name="precoMax"
                  placeholder="MÃ¡ximo"
                  min="0"
                  step="10000"
                />
              </div>
            </div>

            <!-- Quartos -->
            <div class="filtros__campo">
              <label class="filtros__label" for="quartos">
                <span>ğŸ›ï¸</span>
                Quartos (mÃ­nimo)
              </label>
              <select class="filtros__select" id="quartos" name="quartos">
                <option value="">Qualquer</option>
                <option value="1">1+</option>
                <option value="2">2+</option>
                <option value="3">3+</option>
                <option value="4">4+</option>
              </select>
            </div>

            <!-- Banheiros -->
            <div class="filtros__campo">
              <label class="filtros__label" for="banheiros">
                <span>ğŸš¿</span>
                Banheiros (mÃ­nimo)
              </label>
              <select class="filtros__select" id="banheiros" name="banheiros">
                <option value="">Qualquer</option>
                <option value="1">1+</option>
                <option value="2">2+</option>
                <option value="3">3+</option>
              </select>
            </div>

            <!-- Vagas -->
            <div class="filtros__campo">
              <label class="filtros__label" for="vagas">
                <span>ğŸš—</span>
                Vagas (mÃ­nimo)
              </label>
              <select class="filtros__select" id="vagas" name="vagas">
                <option value="">Qualquer</option>
                <option value="1">1+</option>
                <option value="2">2+</option>
                <option value="3">3+</option>
              </select>
            </div>

            <!-- Ãrea MÃ­nima -->
            <div class="filtros__campo">
              <label class="filtros__label" for="areaMin">
                <span>ğŸ“</span>
                Ãrea MÃ­nima (mÂ²)
              </label>
              <input 
                type="number" 
                class="filtros__input" 
                id="areaMin" 
                name="areaMin"
                placeholder="Ex: 50"
                min="0"
              />
            </div>

            <!-- Busca por Texto -->
            <div class="filtros__campo">
              <label class="filtros__label" for="busca">
                <span>ğŸ”</span>
                Buscar por
              </label>
              <input 
                type="text" 
                class="filtros__input" 
                id="busca" 
                name="busca"
                placeholder="Bairro, cidade..."
              />
            </div>

            <!-- BotÃµes -->
            <div class="filtros__acoes">
              <button 
                type="button" 
                class="botao botao--primario filtros__botao-aplicar"
                data-acao="aplicar-filtros"
              >
                ğŸ” Aplicar Filtros
              </button>
              <button 
                type="button" 
                class="botao botao--outline filtros__botao-limpar"
                data-acao="limpar-filtros"
              >
                ğŸ”„ Limpar
              </button>
            </div>
          </form>

          <!-- Filtros Ativos -->
          <div class="filtros__ativos" data-filtros-ativos style="display: none;"></div>
        </div>
      </aside>

      <!-- ÃREA PRINCIPAL -->
      <main class="imoveis-main">
        <!-- Toolbar -->
        <div class="imoveis-toolbar">
          <div class="imoveis-toolbar__info">
            <button class="botao botao--outline botao--pequeno botao-filtros-mobile visivel-mobile">
              ğŸ” Filtros
            </button>
            <div class="imoveis-toolbar__contador" data-contador-imoveis>
              Carregando...
            </div>
          </div>

          <div class="imoveis-toolbar__acoes">
            <div class="imoveis-toolbar__ordenacao">
              <label class="imoveis-toolbar__ordenacao-label" for="ordenacao">
                Ordenar por:
              </label>
              <select 
                class="imoveis-toolbar__ordenacao-select" 
                id="ordenacao"
                name="ordenacao"
              >
                <option value="">PadrÃ£o</option>
                <option value="preco-asc">Menor PreÃ§o</option>
                <option value="preco-desc">Maior PreÃ§o</option>
                <option value="area-asc">Menor Ãrea</option>
                <option value="area-desc">Maior Ãrea</option>
                <option value="recentes">Mais Recentes</option>
              </select>
            </div>
          </div>
        </div>

        <!-- Grid de ImÃ³veis -->
        <div class="grid-imoveis" id="lista-imoveis">
          <!-- ImÃ³veis serÃ£o carregados via JavaScript -->
          <div class="loading-container">
            <div class="loading-spinner loading-spinner--large"></div>
            <p style="margin-top: 1rem;">Carregando imÃ³veis...</p>
          </div>
        </div>
      </main>
    </div>
  </div>

  <!-- FOOTER -->
  <footer class="footer">
    <div class="footer__container">
      <div class="footer__conteudo">
        <div class="footer__secao footer__sobre">
          <h3 class="footer__logo">ğŸ  Borghese</h3>
          <p>
            A Borghese Ã© sua parceira ideal na busca pelo imÃ³vel dos sonhos.
          </p>
          <div class="footer__redes-sociais">
            <a href="#" class="footer__rede-social" aria-label="Facebook">ğŸ“˜</a>
            <a href="#" class="footer__rede-social" aria-label="Instagram">ğŸ“·</a>
            <a href="#" class="footer__rede-social" aria-label="LinkedIn">ğŸ’¼</a>
            <a href="#" class="footer__rede-social" aria-label="YouTube">â–¶ï¸</a>
          </div>
        </div>

        <div class="footer__secao">
          <h3>Links RÃ¡pidos</h3>
          <nav class="footer__links-lista">
            <a href="../index.html">â†’ InÃ­cio</a>
            <a href="imoveis.html">â†’ ImÃ³veis</a>
            <a href="sobre.html">â†’ Sobre NÃ³s</a>
            <a href="contato.html">â†’ Contato</a>
          </nav>
        </div>

        <div class="footer__secao">
          <h3>Contato</h3>
          <div class="footer__contato-item">
            <span>ğŸ“</span>
            <p>Av. Paulista, 1000 - SÃ£o Paulo/SP</p>
          </div>
          <div class="footer__contato-item">
            <span>ğŸ“</span>
            <p><a href="tel:+551134567890">(11) 3456-7890</a></p>
          </div>
          <div class="footer__contato-item">
            <span>ğŸ“§</span>
            <p><a href="mailto:contato@imovelperfeito.com.br">contato@imovelperfeito.com.br</a></p>
          </div>
        </div>
      </div>

      <div class="footer__bottom">
        <div class="footer__copyright">
          Â© 2026 Borghese Assessoria ImobiliÃ¡ria. Todos os direitos reservados.
        </div>
        <nav class="footer__bottom-links">
          <a href="#">PolÃ­tica de Privacidade</a>
          <a href="#">Termos de Uso</a>
        </nav>
      </div>
    </div>
  </footer>

  <!-- JavaScript -->
  <script type="module">
    import sistemaFiltros from '../src/scripts/components/sistema-filtros.js';

    const urlParams = new URLSearchParams(window.location.search);
    const resetFiltros = urlParams.get('reset');
    if (resetFiltros === '1') {
      localStorage.removeItem('filtrosImoveis');
      const formReset = document.getElementById('form-filtros');
      if (formReset) formReset.reset();
    }

    // Inicializa sistema de filtros
    sistemaFiltros.inicializar('#form-filtros', '#lista-imoveis');

    // Pega parÃ¢metros da URL
    const tipo = urlParams.get('tipo');
    const transacao = urlParams.get('transacao');
    const busca = urlParams.get('busca');

    // Preenche filtros da URL
    if (tipo) document.getElementById('tipo').value = tipo;
    if (transacao) document.getElementById('transacao').value = transacao;
    if (busca) document.getElementById('busca').value = busca;

    // Se hÃ¡ parÃ¢metros, aplica filtros
    if (tipo || transacao || busca) {
      setTimeout(() => sistemaFiltros.aplicarFiltros(), 100);
    }

    // OrdenaÃ§Ã£o
    document.getElementById('ordenacao').addEventListener('change', (e) => {
      const form = document.getElementById('form-filtros');
      const ordenacaoInput = form.querySelector('[name="ordenacao"]');
      if (ordenacaoInput) {
        ordenacaoInput.value = e.target.value;
      } else {
        const input = document.createElement('input');
        input.type = 'hidden';
        input.name = 'ordenacao';
        input.value = e.target.value;
        form.appendChild(input);
      }
      sistemaFiltros.aplicarFiltros();
    });

    // Menu mobile filtros
    const btnFiltrosMobile = document.querySelector('.botao-filtros-mobile');
    const sidebar = document.querySelector('.imoveis-sidebar');
    
    if (btnFiltrosMobile && sidebar) {
      btnFiltrosMobile.addEventListener('click', () => {
        sidebar.classList.toggle('aberto');
      });

      // Fecha ao clicar fora em dispositivos mÃ³veis
      document.addEventListener('click', (e) => {
        if (window.innerWidth <= 1024 && 
            !sidebar.contains(e.target) && 
            !btnFiltrosMobile.contains(e.target) &&
            sidebar.classList.contains('aberto')) {
          sidebar.classList.remove('aberto');
        }
      });
    }
  </script>
  <script type="module" src="../src/scripts/main.js"></script>
</body>
</html>
